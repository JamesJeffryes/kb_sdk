package us.kbase.test19;

import java.io.ByteArrayInputStream;
import java.io.ByteArrayOutputStream;
import java.io.IOException;
import java.io.InputStream;
import java.io.OutputStream;
import java.net.HttpURLConnection;
import java.net.URL;
import java.util.ArrayList;
import java.util.List;
import java.util.Map;

import com.fasterxml.jackson.core.JsonEncoding;
import com.fasterxml.jackson.core.JsonGenerator;
import com.fasterxml.jackson.core.JsonParseException;
import com.fasterxml.jackson.core.JsonParser;
import com.fasterxml.jackson.core.JsonToken;
import com.fasterxml.jackson.core.type.TypeReference;
import com.fasterxml.jackson.databind.ObjectMapper;

import us.kbase.auth.AuthService;
import us.kbase.auth.AuthToken;
import us.kbase.common.service.JsonClientCaller;
import us.kbase.common.service.JsonClientException;
import us.kbase.common.service.RpcContext;
import us.kbase.common.service.ServerException;
import us.kbase.common.service.UObject;
import us.kbase.test19.statustest.StatusTestClient;

import junit.framework.Assert;

public class Test19 {
	
	public Test19(StatusTestClient client, Integer port) throws Exception {
        URL url = new URL("http://localhost:" + port);
        JsonClientCaller caller = new JsonClientCaller(url);
        List<Object> args = new ArrayList<Object>();
        TypeReference<List<Map<String,Object>>> retType = new TypeReference<List<Map<String,Object>>>() {};
        List<Map<String,Object>> res = caller.jsonrpcCall("StatusTest.status", args, retType, true, false, (RpcContext)null);
        System.out.println(res.get(0));
	}
}